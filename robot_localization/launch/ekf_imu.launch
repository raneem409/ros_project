<launch>

  <arg name="rviz" default="true"/>
  <arg name="x_forward" default="false"/>

  <!-- Publish static transforms (base link to sensor links) -->
  <include file="$(find robot_localization)/launch/static_tf_publisher.launch">
    <arg name="x_forward_base" value="$(arg x_forward)"/>
  </include>

  <!-- Launch local EKF node (Odom frame) -->
  <node pkg="robot_localization" type="ekf_localization_node" name="ekf_imu"
        clear_params="true" output="screen">
    <rosparam command="load" file="$(find robot_localization)/params/imu.yaml"/>
    <!-- Output topic remapping -->
    <!--remap from="odometry/filtered" to="/odom"/ --> 
  </node>

  <!-- RVIZ -->
  <node if="$(arg rviz)" pkg="rviz" type="rviz" name="rviz"
        args="-d $(find robot_localization)/viz/local.rviz"/>

</launch>

